================================================================================
   PAPER TRADING LAUNCHER
================================================================================
Starting paper trading...
Broker: zerodha
Log file: /Users/Algo_Trading/manishsir_options/paper_trading/logs/session_log_20260109_220232.txt
Press Ctrl+C to stop
================================================================================

================================================================================
UNIVERSAL PAPER TRADING SYSTEM
================================================================================
Loading configuration...
Loading credentials from: /Users/Algo_Trading/manishsir_options/paper_trading/config/credentials_zerodha.txt
Creating broker instance...
âœ“ Broker: Zerodha

[2026-01-09 22:02:32.320908+05:30] Checking for previous session...
[2026-01-09 22:02:32.321027+05:30] No previous state found - starting fresh

[2026-01-09 22:02:32.321059+05:30] Connecting to Zerodha...
[2026-01-09 22:02:32.321087] Connecting to Zerodha...
[2026-01-09 22:02:32.519643] Generated TOTP: 639739
[2026-01-09 22:02:32.619219] âœ“ Request token extracted from redirect
[2026-01-09 22:02:32.619288] Request token obtained: c30R2VGsbA3fpaEgJQLk...
[2026-01-09 22:02:32.701388] âœ“ Connection successful!
[2026-01-09 22:02:32.701494] Access Token: 1KevqRHhYCUvu5nH5uDg...
[2026-01-09 22:02:32.701543] Zerodha data feed initialized
[2026-01-09 22:02:32.701572+05:30] âœ“ Connected to Zerodha

[2026-01-09 22:02:32.701614+05:30] Initializing new session...
[2026-01-09 22:02:32.701869+05:30] ðŸ†• First session - Starting with â‚¹100,000.00
[2026-01-09 22:02:32.702304+05:30] Session initialized: SESSION_20260109_2202
[2026-01-09 22:02:32.702344+05:30] State file: /Users/Algo_Trading/manishsir_options/paper_trading/state/trading_state_zerodha_20260109.json
[2026-01-09 22:02:32.702382+05:30] Loading instruments...
[2026-01-09 22:02:32.702434] Loading instruments...
[2026-01-09 22:02:32.702459] Fetching instruments for NFO...
[2026-01-09 22:02:33.326323] âœ“ Retrieved 40424 instruments
[2026-01-09 22:02:33.330068] Fetching instruments for NSE...
[2026-01-09 22:02:33.413102] âœ“ Retrieved 9108 instruments
[2026-01-09 22:02:33.414570] âœ“ Nifty 50 token: 256265
[2026-01-09 22:02:33.414620] âœ“ Instruments loaded
[2026-01-09 22:02:33.414640+05:30] Initializing contract manager (reading from universal cache)...
Loaded 18 options expiries from cache (cached at: 2026-01-09T21:50:12.865821)
Options lot size: 65 units per lot
âœ“ Loaded contracts from universal cache: /Users/Algo_Trading/manishsir_options/contracts_cache.json
[2026-01-09 22:02:33.416050+05:30] âœ“ Contract manager initialized
[2026-01-09 22:02:33.416077+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 22:02:33.416099+05:30] Initializing paper broker...
[2026-01-09 22:02:33.416295] Paper Broker initialized with capital: â‚¹100,000.00
[2026-01-09 22:02:33.416320] Daily trade log: /Users/Algo_Trading/manishsir_options/paper_trading/logs/trades_20260109_220233.csv
[2026-01-09 22:02:33.416334] Cumulative trade log: /Users/Algo_Trading/manishsir_options/paper_trading/logs/trades_cumulative.csv
[2026-01-09 22:02:33.416351+05:30] Initializing OI analyzer...
[2026-01-09 22:02:33.416543+05:30] Initializing strategy...
[2026-01-09 22:02:33.416574] Using lot size from contract manager: 65 units/lot
[2026-01-09 22:02:33.416592] Strategy initialized
  Entry: 09:30:00 - 15:28:00
  Exit: 15:29:00 - 15:30:00
  Stop Loss: 25.0%
  Trailing Stop: 10.0%
  VWAP Stop: 5.0%
  OI Stop: 10.0%
[2026-01-09 22:02:33.416815+05:30] âœ“ All components initialized

================================================================================
[2026-01-09 22:02:33.416850+05:30] Starting DUAL-LOOP paper trading...
  Broker: Zerodha
  Loop 1: Strategy Loop - Every 5 minutes (Entry decisions)
  Loop 2: Exit Monitor Loop - Every 1 minute (LTP-based exits)
  Loop 3: Contract Monitor Loop - Every 300s (Cache updates)
================================================================================
[2026-01-09 22:02:33.416971+05:30] âœ“ Contract monitor loop started (checks every 300s)
[2026-01-09 22:02:33.417013+05:30] âœ“ Contract monitor loop started (checks every 300s)
[2026-01-09 22:02:33.417074+05:30] Market closed, waiting...
[2026-01-09 22:03:33.422242+05:30] Market closed, waiting...
[2026-01-09 22:04:33.426882+05:30] Market closed, waiting...
[2026-01-09 22:05:33.434773+05:30] Market closed, waiting...
[2026-01-09 22:06:33.437492+05:30] Market closed, waiting...
[2026-01-09 22:07:33.422290+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 22:07:33.426069+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 22:07:33.444992+05:30] Market closed, waiting...
[2026-01-09 22:08:33.452229+05:30] Market closed, waiting...
[2026-01-09 22:09:33.453659+05:30] Market closed, waiting...
[2026-01-09 22:10:33.461881+05:30] Market closed, waiting...
[2026-01-09 22:11:33.468889+05:30] Market closed, waiting...
[2026-01-09 22:12:33.447316+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 22:12:33.447955+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 22:12:33.490290+05:30] Market closed, waiting...
[2026-01-09 22:13:33.496040+05:30] Market closed, waiting...
[2026-01-09 22:14:33.500305+05:30] Market closed, waiting...
[2026-01-09 22:15:33.508327+05:30] Market closed, waiting...
[2026-01-09 22:16:33.512067+05:30] Market closed, waiting...
[2026-01-09 22:17:33.454888+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 22:17:33.455379+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 22:17:33.518715+05:30] Market closed, waiting...
[2026-01-09 22:18:33.524030+05:30] Market closed, waiting...

================================================================================
   PAPER TRADING LAUNCHER
================================================================================
Starting paper trading...
Broker: angelone
Log file: /Users/Algo_Trading/manishsir_options/paper_trading/logs/session_log_20260109_170933.txt
Press Ctrl+C to stop
================================================================================

================================================================================
UNIVERSAL PAPER TRADING SYSTEM
================================================================================
Loading configuration...
Loading credentials from: /Users/Algo_Trading/manishsir_options/paper_trading/config/credentials_angelone.txt
Creating broker instance...
âœ“ Broker: AngelOne

[2026-01-09 17:09:33.088360+05:30] Checking for previous session...
[2026-01-09 17:09:33.088515+05:30] No previous state found - starting fresh

[2026-01-09 17:09:33.088559+05:30] Connecting to AngelOne...
[2026-01-09 17:09:33.092976] Generated TOTP: 881590
[2026-01-09 17:09:33.093033] Connecting to AngelOne...
[2026-01-09 17:09:33.223636] âœ“ Connection successful!
[2026-01-09 17:09:33.223754] Auth Token: Bearer eyJhbGciOiJIU...
[2026-01-09 17:09:33.223788] Feed Token: eyJhbGciOiJIUzUxMiJ9.eyJ1c2VybmFtZSI6Ik4xODI2NDAiLCJpYXQiOjE3Njc5NTg3NzMsImV4cCI6MTc2ODA0NTE3M30.0qXsb02DgYOwaaiI-116NhVn6uLS52Qa6usl1ZG-tZaLoCBbDkisFfyIQVNh7XWJhaRyYH1gCnpRWB1SAzHdTw
[2026-01-09 17:09:33.223818+05:30] âœ“ Connected to AngelOne

[2026-01-09 17:09:33.223862+05:30] Initializing new session...
[2026-01-09 17:09:33.224124+05:30] ðŸ†• First session - Starting with â‚¹100,000.00
[2026-01-09 17:09:33.224592+05:30] Session initialized: SESSION_20260109_1709
[2026-01-09 17:09:33.224634+05:30] State file: /Users/Algo_Trading/manishsir_options/paper_trading/state/trading_state_angelone_20260109.json
[2026-01-09 17:09:33.224675+05:30] Loading instruments...
[2026-01-09 17:09:33.224701] Loading instruments from AngelOne...
[2026-01-09 17:09:42.475836] âœ“ Downloaded 179933 instruments
[2026-01-09 17:09:42.640894] âœ“ Filtered 40442 NFO instruments
[2026-01-09 17:09:42.689202] âœ“ Loaded 1500 NIFTY options
[2026-01-09 17:09:42.689501] âœ“ Available expiries: [datetime.date(2026, 1, 13), datetime.date(2026, 1, 20), datetime.date(2026, 1, 27), datetime.date(2026, 2, 3), datetime.date(2026, 2, 10)]
[2026-01-09 17:09:42.733984+05:30] Initializing contract manager (reading from universal cache)...
Loaded 18 options expiries from cache (cached at: 2026-01-09T12:51:36.566912)
Options lot size: 22 units per lot
âœ“ Loaded contracts from universal cache: /Users/Algo_Trading/manishsir_options/contracts_cache.json
[2026-01-09 17:09:42.735164+05:30] âœ“ Contract manager initialized
[2026-01-09 17:09:42.735245+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 17:09:42.735294+05:30] Initializing paper broker...
[2026-01-09 17:09:42.735657] Paper Broker initialized with capital: â‚¹100,000.00
[2026-01-09 17:09:42.735697] Daily trade log: /Users/Algo_Trading/manishsir_options/paper_trading/logs/trades_20260109_170942.csv
[2026-01-09 17:09:42.735724] Cumulative trade log: /Users/Algo_Trading/manishsir_options/paper_trading/logs/trades_cumulative.csv
[2026-01-09 17:09:42.735757+05:30] Initializing OI analyzer...
[2026-01-09 17:09:42.736116+05:30] Initializing strategy...
[2026-01-09 17:09:42.736176] Using lot size from contract manager: 22 units/lot
[2026-01-09 17:09:42.736206] Strategy initialized
  Entry: 09:30:00 - 15:28:00
  Exit: 15:29:00 - 15:30:00
  Stop Loss: 25.0%
  Trailing Stop: 10.0%
  VWAP Stop: 5.0%
  OI Stop: 10.0%
[2026-01-09 17:09:42.736622+05:30] âœ“ All components initialized

================================================================================
[2026-01-09 17:09:42.736687+05:30] Starting DUAL-LOOP paper trading...
  Broker: AngelOne
  Loop 1: Strategy Loop - Every 5 minutes (Entry decisions)
  Loop 2: Exit Monitor Loop - Every 1 minute (LTP-based exits)
  Loop 3: Contract Monitor Loop - Every 300s (Cache updates)
================================================================================
[2026-01-09 17:09:42.736917+05:30] âœ“ Contract monitor loop started (checks every 300s)
[2026-01-09 17:09:42.736988+05:30] âœ“ Contract monitor loop started (checks every 300s)
[2026-01-09 17:09:42.737072+05:30] Market closed, waiting...
[2026-01-09 17:10:42.742320+05:30] Market closed, waiting...
[2026-01-09 17:11:42.747169+05:30] Market closed, waiting...
[2026-01-09 17:12:42.752709+05:30] Market closed, waiting...
[2026-01-09 17:13:42.754396+05:30] Market closed, waiting...
[2026-01-09 17:14:42.742370+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
======================================================================
CACHE FILE UPDATED - RELOADING CONTRACTS
======================================================================
Previous mtime: 1767957431.5362744
Current mtime:  1767958785.4972663
Loaded 18 options expiries from cache (cached at: 2026-01-09T12:51:36.566912)
Options lot size: 23 units per lot
âœ“ Contracts reloaded successfully
  Options: 18 expiry dates
  Active Options: 2026-01-13 (4 days)
======================================================================
[2026-01-09 17:14:42.745169+05:30] âœ“ Contracts reloaded from cronjob update
[2026-01-09 17:14:42.745323+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 17:14:42.763301+05:30] Market closed, waiting...
[2026-01-09 17:15:42.769270+05:30] Market closed, waiting...
[2026-01-09 17:16:42.770169+05:30] Market closed, waiting...
[2026-01-09 17:17:42.778598+05:30] Market closed, waiting...
[2026-01-09 17:18:42.786971+05:30] Market closed, waiting...
[2026-01-09 17:19:42.750254+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
======================================================================
CACHE FILE UPDATED - RELOADING CONTRACTS
======================================================================
Previous mtime: 1767958785.4972663
Current mtime:  1767959210.2350812
Loaded 18 options expiries from cache (cached at: 2026-01-09T12:51:36.566912)
Options lot size: 63 units per lot
âœ“ Contracts reloaded successfully
  Options: 18 expiry dates
  Active Options: 2026-01-13 (4 days)
======================================================================
[2026-01-09 17:19:42.752604+05:30] âœ“ Contracts reloaded from cronjob update
[2026-01-09 17:19:42.752751+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 17:19:42.792443+05:30] Market closed, waiting...
[2026-01-09 17:20:42.797811+05:30] Market closed, waiting...
[2026-01-09 17:21:42.803391+05:30] Market closed, waiting...
[2026-01-09 17:22:42.808957+05:30] Market closed, waiting...
[2026-01-09 17:23:42.811899+05:30] Market closed, waiting...
[2026-01-09 17:24:42.755747+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 17:24:42.756422+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 17:24:42.819930+05:30] Market closed, waiting...
[2026-01-09 17:25:42.830198+05:30] Market closed, waiting...
[2026-01-09 17:26:42.840777+05:30] Market closed, waiting...
[2026-01-09 17:27:42.851110+05:30] Market closed, waiting...
[2026-01-09 17:28:42.857349+05:30] Market closed, waiting...
[2026-01-09 17:29:42.767681+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
======================================================================
CACHE FILE UPDATED - RELOADING CONTRACTS
======================================================================
Previous mtime: 1767959210.2350812
Current mtime:  1767959852.061344
Loaded 18 options expiries from cache (cached at: 2026-01-09T12:51:36.566912)
Options lot size: 65 units per lot
âœ“ Contracts reloaded successfully
  Options: 18 expiry dates
  Active Options: 2026-01-13 (4 days)
======================================================================
[2026-01-09 17:29:42.771976+05:30] âœ“ Contracts reloaded from cronjob update
[2026-01-09 17:29:42.772057+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 17:29:42.864105+05:30] Market closed, waiting...
[2026-01-09 17:30:42.867367+05:30] Market closed, waiting...
[2026-01-09 17:31:42.875731+05:30] Market closed, waiting...
[2026-01-09 17:32:42.880101+05:30] Market closed, waiting...
[2026-01-09 17:33:42.885194+05:30] Market closed, waiting...
[2026-01-09 17:34:42.774855+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 17:34:42.775563+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 17:34:42.890370+05:30] Market closed, waiting...
[2026-01-09 17:35:42.892824+05:30] Market closed, waiting...
[2026-01-09 17:36:42.898222+05:30] Market closed, waiting...
[2026-01-09 17:37:42.903512+05:30] Market closed, waiting...
[2026-01-09 17:38:42.912697+05:30] Market closed, waiting...
[2026-01-09 17:39:42.781098+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 17:39:42.781755+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 17:39:42.923271+05:30] Market closed, waiting...
[2026-01-09 17:40:42.933779+05:30] Market closed, waiting...
[2026-01-09 17:41:42.934397+05:30] Market closed, waiting...
[2026-01-09 17:42:42.938344+05:30] Market closed, waiting...
[2026-01-09 18:00:47.279903+05:30] Market closed, waiting...
[2026-01-09 19:44:58.615611+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 19:44:58.619304+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 19:44:58.791104+05:30] Market closed, waiting...
[2026-01-09 19:52:30.335786+05:30] Market closed, waiting...
[2026-01-09 19:53:30.344345+05:30] Market closed, waiting...
[2026-01-09 19:54:30.350965+05:30] Market closed, waiting...
[2026-01-09 19:55:30.354119+05:30] Market closed, waiting...
[2026-01-09 19:56:30.172629+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 19:56:30.173304+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 19:56:30.358734+05:30] Market closed, waiting...
[2026-01-09 19:57:30.361905+05:30] Market closed, waiting...
[2026-01-09 19:58:30.365973+05:30] Market closed, waiting...
[2026-01-09 19:59:30.371055+05:30] Market closed, waiting...
[2026-01-09 20:00:30.382883+05:30] Market closed, waiting...
[2026-01-09 20:01:30.176147+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:01:30.176705+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:01:30.396240+05:30] Market closed, waiting...
[2026-01-09 20:02:30.405316+05:30] Market closed, waiting...
[2026-01-09 20:03:30.414843+05:30] Market closed, waiting...
[2026-01-09 20:04:30.431072+05:30] Market closed, waiting...
[2026-01-09 20:05:30.441709+05:30] Market closed, waiting...
[2026-01-09 20:06:30.185763+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:06:30.191151+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:06:30.443571+05:30] Market closed, waiting...
[2026-01-09 20:07:30.454033+05:30] Market closed, waiting...
[2026-01-09 20:08:30.463206+05:30] Market closed, waiting...
[2026-01-09 20:09:30.476667+05:30] Market closed, waiting...
[2026-01-09 20:10:30.478998+05:30] Market closed, waiting...
[2026-01-09 20:11:30.198315+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:11:30.202025+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:11:30.489949+05:30] Market closed, waiting...
[2026-01-09 20:12:30.498907+05:30] Market closed, waiting...
[2026-01-09 20:13:30.505079+05:30] Market closed, waiting...
[2026-01-09 20:14:30.510401+05:30] Market closed, waiting...
[2026-01-09 20:15:30.518814+05:30] Market closed, waiting...
[2026-01-09 20:16:30.209078+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:16:30.209755+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:16:30.521339+05:30] Market closed, waiting...
[2026-01-09 20:17:30.526749+05:30] Market closed, waiting...
[2026-01-09 20:18:30.529720+05:30] Market closed, waiting...
[2026-01-09 20:19:30.531100+05:30] Market closed, waiting...
[2026-01-09 20:20:30.536594+05:30] Market closed, waiting...
[2026-01-09 20:21:30.213898+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:21:30.217209+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:21:30.547650+05:30] Market closed, waiting...
[2026-01-09 20:22:30.555485+05:30] Market closed, waiting...
[2026-01-09 20:23:30.565025+05:30] Market closed, waiting...
[2026-01-09 20:24:30.577870+05:30] Market closed, waiting...
[2026-01-09 20:25:30.549525+05:30] Market closed, waiting...
[2026-01-09 20:26:30.185310+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
[2026-01-09 20:26:30.189004+05:30] âœ“ Contract check complete - No updates (Active: 2026-01-13, 4 days)
[2026-01-09 20:26:30.552937+05:30] Market closed, waiting...
[2026-01-09 20:27:30.555870+05:30] Market closed, waiting...
[2026-01-09 21:17:27.786516+05:30] Market closed, waiting...
[2026-01-09 21:24:55.921781+05:30] Market closed, waiting...
[2026-01-09 21:25:55.928272+05:30] Market closed, waiting...
[2026-01-09 21:26:55.527574+05:30] ðŸ”„ Contract monitor: Checking for cache updates...
======================================================================
CACHE FILE UPDATED - RELOADING CONTRACTS
======================================================================
Previous mtime: 1767959852.061344
Current mtime:  1767974129.9853883
Loaded 18 options expiries from cache (cached at: 2026-01-09T12:51:36.566912)
Options lot size: 65 units per lot
âœ“ Contracts reloaded successfully
  Options: 18 expiry dates
  Active Options: 2026-01-13 (4 days)
======================================================================
[2026-01-09 21:26:55.529729+05:30] âœ“ Contracts reloaded from cronjob update
[2026-01-09 21:26:55.529872+05:30] Active Weekly Expiry: 2026-01-13 (4 days)
[2026-01-09 21:26:55.929109+05:30] Market closed, waiting...
